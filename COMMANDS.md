# Kele 命令参考

**版本**: v0.1.3
**更新时间**: 2026-02-06

Kele 提供了丰富的 slash 命令，让你可以更好地控制 AI 助手和管理对话。

---

## ⌨️ 命令补全

Kele 支持智能命令补全，让输入更加高效！

### 使用方法

在输入命令时按 `Tab` 键：

```
/mo<Tab>     → /model
/mod<Tab>    → 显示: /model, /models, /model-reset
/model-<Tab> → /model-reset
```

### 补全特性

- ✅ **前缀匹配**: 自动匹配命令前缀
- ✅ **单个匹配**: 唯一匹配时自动补全并添加空格
- ✅ **多个匹配**: 显示所有候选命令
- ✅ **公共前缀**: 多个匹配时补全到最长公共前缀
- ✅ **保留参数**: 补全命令时保留已输入的参数

### 示例

**示例 1: 唯一匹配**
```
输入: /rem<Tab>
结果: /remember _
```

**示例 2: 多个匹配**
```
输入: /m<Tab>
显示: 💡 可用命令: /model, /models, /model-reset, /memory
结果: /m (保持不变，等待更多输入)
```

**示例 3: 公共前缀**
```
输入: /mod<Tab>
显示: 💡 可用命令: /model, /models, /model-reset
结果: /model (补全到公共前缀)
```

**示例 4: 带参数**
```
输入: /mod gpt<Tab>
结果: /model gpt (保留参数)
```

---

## 📚 命令分类

### 🗣️ 对话控制

#### `/clear`, `/reset`
清空当前对话历史

```
/clear
```

**效果**:
- 清空 TUI 显示的消息
- 清空 Brain 的对话历史
- 重置视图

#### `/exit`, `/quit`
退出程序

```
/exit
```

---

### 🤖 模型管理

#### `/model`
查看当前模型或切换模型

**查看当前模型**:
```
/model
```

**切换模型**:
```
/model gpt-4o
/model claude-3-5-sonnet-20241022
/model gpt-3.5-turbo
```

**说明**:
- 支持任何兼容 OpenAI API 的模型
- 切换后立即生效，无需重启
- 模型名称必须是 API 支持的完整名称

#### `/models`
列出常用模型

```
/models
```

**显示**:
- OpenAI 系列模型
- Anthropic Claude 系列模型
- 使用方法示例

#### `/model-reset`
重置为默认模型

```
/model-reset
```

**效果**:
- 恢复启动时的模型（环境变量或默认值）

---

### 💾 记忆系统

#### `/remember <text>`
添加内容到长期记忆

```
/remember 我喜欢使用 Go 语言
/remember 项目截止日期是 2026-03-01
```

**效果**:
- 保存到 SQLite 数据库
- 同步到 `.kele/MEMORY.md`
- 可通过 `/search` 查询

#### `/search <query>`
搜索记忆

```
/search Go 语言
/search 截止日期
```

**效果**:
- 返回最多 5 条匹配结果
- 支持模糊匹配

#### `/memory`
查看记忆系统信息

```
/memory
```

**显示**:
- 可用的记忆命令
- 存储位置

---

### 📊 信息查看

#### `/status`
显示系统状态

```
/status
```

**显示信息**:
- 对话统计（消息数、历史记录数）
- 流式状态
- 模型配置（当前模型、默认模型）
- 界面信息（窗口大小、时间）
- 存储位置

#### `/config`
显示当前配置

```
/config
```

**显示信息**:
- 环境变量配置
- 运行时配置
- 模型设置

#### `/history`
显示完整对话历史

```
/history
```

**显示**:
- 所有对话记录（包括系统消息）
- 消息角色标识
- 内容预览（截断长文本）

#### `/tokens`
显示 token 使用情况

```
/tokens
```

**说明**:
- 当前功能开发中
- 将来会显示输入/输出 token 统计

---

### 💾 会话管理

#### `/save`
保存当前会话

```
/save
```

**效果**:
- 会话自动保存到 `.kele/sessions/`
- JSONL 格式

#### `/export`
导出对话为 Markdown

```
/export
```

**效果**:
- 生成 Markdown 格式的对话导出
- 保存到 `.kele/export_YYYYMMDD_HHMMSS.md`
- 包含时间戳和完整对话

**说明**: 当前功能开发中

---

### 🔧 其他命令

#### `/help`
显示帮助信息

```
/help
```

**显示**:
- 所有可用命令列表
- 命令分类
- 简要说明

#### `/debug`
显示调试信息

```
/debug
```

**显示信息**:
- Go 版本
- 消息数统计
- 流式状态
- 事件通道状态
- 缓冲区大小

---

## 💡 使用技巧

### 1. 快速切换模型

测试不同模型的效果：

```
/model gpt-4o
> 写一首诗

/model claude-3-5-sonnet-20241022
> 写一首诗
```

### 2. 保存重要信息

```
/remember 项目使用 Go 1.25
/remember API 端点: https://api.example.com
```

### 3. 查找历史信息

```
/search API
/search 项目
```

### 4. 监控系统状态

```
/status    # 查看当前状态
/config    # 查看配置
/debug     # 调试问题
```

### 5. 清理和导出

```
/export    # 先导出对话
/clear     # 再清空历史
```

---

## 🎯 常用组合

### 开始新任务
```
/clear             # 清空历史
/model gpt-4o      # 选择模型
> 你好，开始新任务
```

### 切换任务场景
```
/export            # 导出当前对话
/clear             # 清空
/remember 上一个任务已完成
> 开始新任务
```

### 调试问题
```
/status            # 查看状态
/config            # 查看配置
/debug             # 查看调试信息
/history           # 查看历史
```

---

## 📋 命令对比

| 命令 | 别名 | 参数 | 说明 |
|------|------|------|------|
| `/help` | - | 无 | 显示帮助 |
| `/clear` | `/reset` | 无 | 清空对话 |
| `/exit` | `/quit` | 无 | 退出程序 |
| `/model` | - | [name] | 切换模型 |
| `/models` | - | 无 | 列出模型 |
| `/model-reset` | - | 无 | 重置模型 |
| `/remember` | - | `<text>` | 添加记忆 |
| `/search` | - | `<query>` | 搜索记忆 |
| `/memory` | - | 无 | 记忆信息 |
| `/status` | - | 无 | 系统状态 |
| `/config` | - | 无 | 配置信息 |
| `/history` | - | 无 | 对话历史 |
| `/tokens` | - | 无 | Token 统计 |
| `/save` | - | 无 | 保存会话 |
| `/export` | - | 无 | 导出对话 |
| `/debug` | - | 无 | 调试信息 |

---

## 🔮 即将推出

以下功能正在开发中：

- [ ] `/tokens` - 完整的 token 统计
- [ ] `/export` - 完整的导出功能
- [ ] `/undo` - 撤销最后一条消息
- [ ] `/retry` - 重试最后一次请求
- [ ] `/context` - 管理上下文窗口
- [ ] `/preset` - 使用预设提示词
- [ ] `/plugin` - 插件管理

---

## 🆘 需要帮助？

- 在程序中输入 `/help` 查看快速帮助
- 查看 `USAGE.md` 了解详细使用方法
- 查看 `QUICKSTART.md` 快速开始
- 提交 Issue 到 GitHub

---

**提示**: 所有命令都以 `/` 开头，命令名不区分大小写（但参数可能区分）。
